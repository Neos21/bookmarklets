<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bookmarklets - Neo's GitHub Pages</title>
    <link rel="stylesheet" href="../styles.css">
    <link rel="icon" href="/favicon.ico">
    <link rel="icon" href="/favicon-192x192.png" sizes="192x192" type="image/png">
    <link rel="apple-touch-icon" href="/apple-touch-icon-152x152.png" sizes="152x152">
    <script>

document.addEventListener('DOMContentLoaded', function() {
  var baseUrl = 'https://neos21.github.io/bookmarklets/';
  var distUrl = baseUrl + 'dist/';
  
  // JS ファイルを取得して見出しの直後にブックマークレットとして挿入する
  var fetchDistAndInsert = function(name) {
    var xhr = new XMLHttpRequest();
    xhr.timeout = 5000;
    xhr.addEventListener('load', function() {
      if(xhr.status !== 200) { return console.log('Status Error', xhr.status, xhr); }
      try {
        var response = xhr.response.replace((/</gu), '&lt;').replace((/>/gu), '&gt;').replace(/"/gu, '&quot;');
        var headline = document.querySelector('#' + name + ' > h2');
        headline.insertAdjacentHTML('afterend', '<pre>javascript:' + response + '</pre>');
      }
      catch(error) { console.log('Error', error, xhr); }
    });
    xhr.addEventListener('error', function() { console.log('Error', xhr); });
    xhr.open('GET', distUrl + name + '.js');
    xhr.send();
  };
  
  // JS ファイルを参照する形式のブックマークレットコードを生成して挿入する
  var insertCodeOfLoadingJs = function(name) {
    var section = document.querySelector('#' + name);
    section.insertAdjacentHTML('beforeend', '<pre>javascript:((d,s)=&gt;{s=d.createElement(\'script\');s.src=\'' + distUrl + name + '.js\';d.body.appendChild(s)})(document);</pre>');
  };
  
  var names = [
    'ec-navi-pex-news-clicker',
    'select-range',
    'select-range-touch',
    'random-check-inputs'
  ];
  names.forEach(function (name) {
    fetchDistAndInsert(name);
    insertCodeOfLoadingJs(name);
  });
});

    </script>
  </head>
  <body id="neos21-github-io">
    <header id="header">
      <div id="logo"><a href="../index.html">Neo's GitHub Pages</a></div>
    </header>
    <main id="main">
      <section>
        <h1>Bookmarklets</h1>
        <p>ブックマークレット集。</p>
        <ul>
          <li><a href="#ec-navi-pex-news-clicker">EC Navi PeX News Clicker</a></li>
          <li><a href="#survey-helpers">Survey Helpers</a></li>
          <li><a href="#select-range">Select Range</a></li>
          <li><a href="#select-range-touch">Select Range Touch</a></li>
          <li><a href="#random-check-inputs">Random Check Inputs</a></li>
        </ul>
        <sectino id="ec-navi-pex-news-clicker">
          <h2><a href="dist/ec-navi-pex-news-clicker.js">EC Navi PeX News Clicker</a> (<a href="src/ec-navi-pex-news-clicker.js">ec-navi-pex-news-clicker.js</a>)</h2>
          <p>EC ナビ、PeX の「まいにちニュース」の気持ちを自動回答するブックマークレット。</p>
        </section>
        <section id="survey-helpers">
          <h2><a href="dist/survey-helpers.js">Survey Helpers</a> (<a href="src/survey-helpers.js">survey-helpers.js</a>)</h2>
          <p>アンケートサイト自動回答ブックマークレット。</p>
          <p>以下のように設定項目を指定して実行する。</p>
          <pre>javascript:((d,s,e)=&gt;{
  e=()=&gt;{
    N21SH({
      cityName:'東京',
      districtName:'足立',
      age:25,
      ageRange:20,
      birthYear:1993,
      birthMonth:2,
      birthDate:24,
      gender:'女',
      marriage:'未婚',
      jobRegExp:'正社|社員'
    },{
      loop:5
    })
  };
  s=d.createElement('script');
  s.onload=e;
  s.src='https://neos21.github.io/bookmarklets/dist/survey-helpers.js';
  d.body.appendChild(s)
})(document);</pre>
          <p>1行にすると以下のようになる。</p>
          <pre>javascript:((d,s,e)=&gt;{e=()=&gt;{N21SH({cityName:'東京',districtName:'足立',age:25,ageRange:20,birthYear:1993,birthMonth:2,birthDate:24,gender:'女',marriage:'未婚',jobRegExp:'正社|社員'},{loop:5})};s=d.createElement('script');s.onload=e;s.src='https://neos21.github.io/bookmarklets/dist/survey-helpers.js';d.body.appendChild(s)})(document);</pre>
        </section>
        <section id="select-range">
          <h2><a href="dist/select-range.js">Select Range</a> (<a href="src/select-range.js">select-range.js</a>)</h2>
          <p>範囲選択ブックマークレット。<code>mousedown</code>・<code>mousemove</code>・<code>mouseup</code> を監視するので PC 用。</p>
        </section>
        <section id="select-range-touch">
          <h2><a href="dist/select-range-touch.js">Select Range Touch</a> (<a href="src/select-range-touch.js">select-range-touch.js</a>)</h2>
          <p>範囲選択ブックマークレット。<code>touchstart</code>・<code>touchmove</code>・<code>touchend</code> を監視するのでスマホなどタッチデバイス用。</p>
        </section>
        <section id="random-check-inputs">
          <h2><a href="dist/random-check-inputs.js">Random Check Inputs</a> (<a href="src/random-check-inputs.js">random-check-inputs.js</a>)</h2>
          <p><code>input[type=&quot;radio&quot;]</code>・<code>input[type=&quot;checkbox&quot;]</code> を <code>name</code> 属性ごとに1つランダムにクリックするブックマークレット。</p>
        </section>
        <section>
          <h2>Author</h2>
          <p><a href="http://neo.s21.xrea.com/">Neo</a> (<a href="https://twitter.com/Neos21">@Neos21</a>)</p>
          <ul>
            <li><a href="https://github.com/Neos21/bookmarklets">GitHub - bookmarklets</a></li>
            <li><a href="https://neos21.github.io/bookmarklets/">GitHub Pages - bookmarklets</a></li>
          </ul>
        </section>
        <section>
          <h2>Links</h2>
          <ul>
            <li><a href="http://neo.s21.xrea.com/">Neo's World</a></li>
            <li><a href="http://neos21.hatenablog.com/">Corredor</a></li>
            <li><a href="http://neos21.hatenablog.jp/">Murga</a></li>
            <li><a href="http://neos21.hateblo.jp/">El Mylar</a></li>
            <li><a href="https://neos21.github.io/">Neo's GitHub Pages</a></li>
            <li><a href="https://github.com/Neos21/">GitHub - Neos21</a></li>
          </ul>
        </section>
      </section>
    </main>
    <footer id="footer">
      <div id="copyright"><small>Copyright &copy; 2016-2019 <a href="../index.html">Neo</a>, All rights reserved.</small></div>
    </footer>
  </body>
</html>
